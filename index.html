<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tokenized Creator Studio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-dark: #050a12;
      --bg-card: #0a1628;
      --bg-card-alt: #0d1e36;
      --border: #1e3a5f;
      --accent: #00c8ff;
      --accent-glow: rgba(0, 200, 255, 0.3);
      --accent-dim: rgba(0, 200, 255, 0.1);
      --text: #ffffff;
      --text-secondary: #8ba3c7;
      --text-muted: #5a7a9e;
      --success: #10b981;
      --warning: #f59e0b;
      --purple: #a855f7;
      --red: #ef4444;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Syne', sans-serif;
      background: var(--bg-dark);
      color: var(--text);
      min-height: 100vh;
      background-image: 
        radial-gradient(ellipse at 20% 0%, rgba(0, 200, 255, 0.08) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 100%, rgba(168, 85, 247, 0.08) 0%, transparent 50%);
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 3rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--border);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .logo-icon {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, var(--accent), var(--purple));
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 1.5rem;
    }

    .logo-text h1 {
      font-size: 1.5rem;
      font-weight: 800;
      letter-spacing: -0.02em;
    }

    .logo-text span {
      font-size: 0.75rem;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .tabs {
      display: flex;
      gap: 0.5rem;
      background: var(--bg-card);
      padding: 0.5rem;
      border-radius: 12px;
      border: 1px solid var(--border);
    }

    .tab {
      padding: 0.75rem 1.5rem;
      background: transparent;
      border: none;
      color: var(--text-secondary);
      font-family: inherit;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.2s;
    }

    .tab:hover {
      color: var(--text);
      background: var(--bg-card-alt);
    }

    .tab.active {
      background: var(--accent);
      color: var(--bg-dark);
    }

    .main-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }

    @media (max-width: 1000px) {
      .main-grid { grid-template-columns: 1fr; }
    }

    .panel {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
    }

    .panel-header {
      padding: 1.25rem 1.5rem;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .panel-title {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-secondary);
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .panel-title::before {
      content: '';
      width: 4px;
      height: 14px;
      background: var(--accent);
      border-radius: 2px;
    }

    .panel-body {
      padding: 1.5rem;
    }

    .input-group {
      margin-bottom: 1.5rem;
    }

    .input-group:last-child {
      margin-bottom: 0;
    }

    label {
      display: block;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-secondary);
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    textarea, input[type="text"], select {
      width: 100%;
      padding: 1rem;
      background: var(--bg-dark);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-family: 'Space Mono', monospace;
      font-size: 0.9rem;
      resize: vertical;
      transition: all 0.2s;
    }

    textarea:focus, input[type="text"]:focus, select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px var(--accent-dim);
    }

    textarea::placeholder, input::placeholder {
      color: var(--text-muted);
    }

    .transcript-input {
      min-height: 300px;
    }

    .btn {
      padding: 1rem 2rem;
      background: var(--accent);
      border: none;
      border-radius: 8px;
      color: var(--bg-dark);
      font-family: inherit;
      font-size: 0.9rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px var(--accent-glow);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .btn-secondary {
      background: var(--bg-card-alt);
      color: var(--text);
      border: 1px solid var(--border);
    }

    .btn-secondary:hover {
      border-color: var(--accent);
      box-shadow: none;
    }

    .btn-group {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    /* Results Panel */
    .results-empty {
      text-align: center;
      padding: 4rem 2rem;
      color: var(--text-muted);
    }

    .results-empty-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }

    .title-result {
      background: var(--bg-dark);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.25rem;
      margin-bottom: 1rem;
      transition: all 0.2s;
      cursor: pointer;
      position: relative;
    }

    .title-result:hover {
      border-color: var(--accent);
      transform: translateX(4px);
    }

    .title-result.selected {
      border-color: var(--success);
      background: rgba(16, 185, 129, 0.1);
    }

    .title-text {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
      line-height: 1.4;
    }

    .title-meta {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .title-tag {
      font-size: 0.7rem;
      padding: 0.25rem 0.5rem;
      background: var(--bg-card-alt);
      border-radius: 4px;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .title-tag.hook { background: rgba(0, 200, 255, 0.2); color: var(--accent); }
    .title-tag.guest { background: rgba(168, 85, 247, 0.2); color: var(--purple); }
    .title-tag.number { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
    .title-tag.question { background: rgba(239, 68, 68, 0.2); color: var(--red); }
    .title-tag.series { background: rgba(16, 185, 129, 0.2); color: var(--success); }
    .title-tag.stats { background: rgba(99, 102, 241, 0.2); color: #818cf8; }
    .title-tag.story { background: rgba(236, 72, 153, 0.2); color: #f472b6; }

    .title-actions {
      position: absolute;
      top: 1rem;
      right: 1rem;
      display: flex;
      gap: 0.5rem;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .title-result:hover .title-actions {
      opacity: 1;
    }

    .title-action-btn {
      width: 32px;
      height: 32px;
      border-radius: 6px;
      border: 1px solid var(--border);
      background: var(--bg-card);
      color: var(--text-secondary);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      transition: all 0.2s;
    }

    .title-action-btn:hover {
      border-color: var(--accent);
      color: var(--accent);
    }

    /* A/B Test Section */
    .ab-test-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .ab-variant {
      background: var(--bg-dark);
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 1.25rem;
      position: relative;
    }

    .ab-variant.variant-a {
      border-color: var(--accent);
    }

    .ab-variant.variant-b {
      border-color: var(--purple);
    }

    .ab-label {
      position: absolute;
      top: -10px;
      left: 1rem;
      background: var(--bg-card);
      padding: 0.25rem 0.75rem;
      font-size: 0.7rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      border-radius: 4px;
    }

    .variant-a .ab-label { color: var(--accent); }
    .variant-b .ab-label { color: var(--purple); }

    .ab-title {
      font-size: 1rem;
      font-weight: 600;
      line-height: 1.4;
    }

    /* Thumbnail Section */
    .thumbnail-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }

    .thumbnail-concept {
      background: var(--bg-dark);
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.2s;
    }

    .thumbnail-concept:hover {
      border-color: var(--accent);
      transform: scale(1.02);
    }

    .thumbnail-preview {
      aspect-ratio: 16/9;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .thumbnail-preview.style-bold {
      background: linear-gradient(135deg, #000 0%, #1a1a1a 100%);
    }

    .thumbnail-preview.style-gradient {
      background: linear-gradient(135deg, #0a1628 0%, #1e3a5f 50%, #0a1628 100%);
    }

    .thumbnail-preview.style-accent {
      background: linear-gradient(135deg, rgba(0,200,255,0.2) 0%, #0a1628 100%);
    }

    .thumbnail-preview.style-dramatic {
      background: radial-gradient(circle at 30% 50%, #1e3a5f 0%, #050a12 70%);
    }

    .thumbnail-text-overlay {
      position: absolute;
      padding: 1rem;
      text-align: center;
    }

    .thumbnail-headline {
      font-size: 1.2rem;
      font-weight: 800;
      text-transform: uppercase;
      line-height: 1.2;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
    }

    .thumbnail-subtext {
      font-size: 0.7rem;
      color: var(--accent);
      margin-top: 0.5rem;
      font-weight: 600;
    }

    .thumbnail-info {
      padding: 1rem;
    }

    .thumbnail-style-name {
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-secondary);
      margin-bottom: 0.25rem;
    }

    .thumbnail-description {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    /* Loading State */
    .loading {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 3rem;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 3px solid var(--border);
      border-top-color: var(--accent);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Insights Section */
    .insights-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    @media (max-width: 600px) {
      .insights-grid { grid-template-columns: 1fr; }
    }

    .insight-card {
      background: var(--bg-dark);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1rem;
      text-align: center;
    }

    .insight-value {
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--accent);
    }

    .insight-label {
      font-size: 0.7rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-top: 0.25rem;
    }

    /* Copy notification */
    .toast {
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: var(--success);
      color: white;
      padding: 1rem 2rem;
      border-radius: 8px;
      font-weight: 600;
      opacity: 0;
      transition: all 0.3s;
      z-index: 1000;
    }

    .toast.show {
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }

    /* Section for patterns */
    .patterns-section {
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 1px solid var(--border);
    }

    .pattern-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .pattern-chip {
      padding: 0.5rem 1rem;
      background: var(--bg-dark);
      border: 1px solid var(--border);
      border-radius: 20px;
      font-size: 0.8rem;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.2s;
    }

    .pattern-chip:hover {
      border-color: var(--accent);
      color: var(--accent);
    }

    .pattern-chip.active {
      background: var(--accent);
      border-color: var(--accent);
      color: var(--bg-dark);
    }

    /* Hidden sections */
    .section { display: none; }
    .section.active { display: block; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <div class="logo-icon">T</div>
        <div class="logo-text">
          <h1>Creator Studio</h1>
          <span>Tokenized Podcast</span>
        </div>
      </div>
      <div class="tabs">
        <button class="tab active" data-section="titles">Titles</button>
        <button class="tab" data-section="thumbnails">Thumbnails</button>
        <button class="tab" data-section="insights">Insights</button>
      </div>
    </header>

    <!-- TITLES SECTION -->
    <section class="section active" id="titles">
      <div class="main-grid">
        <div class="panel">
          <div class="panel-header">
            <div class="panel-title">Episode Input</div>
          </div>
          <div class="panel-body">
            <div class="input-group">
              <label>Episode Transcript or Summary</label>
              <textarea class="transcript-input" id="transcriptInput" placeholder="Paste the episode transcript, show notes, or a summary of the key topics discussed..."></textarea>
              <div style="margin-top: 0.75rem; display: flex; align-items: center; gap: 1rem;">
                <input type="file" id="transcriptFile" accept=".txt,.doc,.docx,.pdf,.srt,.vtt" onchange="handleTranscriptUpload(event)" style="display: none;">
                <button class="btn btn-secondary" style="padding: 0.5rem 1rem; font-size: 0.8rem;" onclick="document.getElementById('transcriptFile').click()">
                  üìÑ Upload Transcript
                </button>
                <span id="transcriptFileStatus" style="font-size: 0.8rem; color: var(--text-muted);"></span>
              </div>
            </div>
            <div class="input-group">
              <label>Guest Name(s)</label>
              <input type="text" id="guestInput" placeholder="e.g., Sergey Nazarov, CEO of Chainlink">
            </div>
            <div class="input-group">
              <label>Episode Type</label>
              <select id="episodeType">
                <option value="interview">Interview</option>
                <option value="news">News & Analysis</option>
                <option value="deep-dive">Deep Dive</option>
                <option value="predictions">Predictions</option>
                <option value="stablecoin-stories">Stablecoin Stories</option>
                <option value="stablecoin-stats">Stablecoin Stats</option>
                <option value="agentic-commerce">Agentic Commerce</option>
                <option value="bonus">Bonus / Special</option>
              </select>
            </div>
            <div class="btn-group">
              <button class="btn" id="generateBtn" onclick="generateTitles()">
                <span>‚ö°</span> Generate Titles
              </button>
              <button class="btn btn-secondary" onclick="clearInputs()">Clear</button>
            </div>

            <div class="patterns-section">
              <label style="margin-bottom: 0.75rem;">Quick Patterns (based on top performers)</label>
              <div class="pattern-list">
                <span class="pattern-chip" onclick="applyPattern('question')">Question Hook</span>
                <span class="pattern-chip" onclick="applyPattern('number')">Numbers/Stats</span>
                <span class="pattern-chip" onclick="applyPattern('company')">Big Company Name</span>
                <span class="pattern-chip" onclick="applyPattern('threat')">Threat/Warning</span>
                <span class="pattern-chip" onclick="applyPattern('future')">Future Prediction</span>
                <span class="pattern-chip" onclick="applyPattern('money')">Money Amount</span>
              </div>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-header">
            <div class="panel-title">Generated Titles</div>
            <span style="font-size: 0.75rem; color: var(--text-muted);" id="resultCount"></span>
          </div>
          <div class="panel-body" id="titlesOutput">
            <div class="results-empty">
              <div class="results-empty-icon">üìù</div>
              <p>Paste a transcript and click Generate to create optimized titles</p>
            </div>
          </div>
        </div>
      </div>

      <!-- A/B Test Section -->
      <div class="panel" style="margin-top: 2rem;" id="abTestPanel">
        <div class="panel-header">
          <div class="panel-title">A/B Test Recommendation</div>
          <button class="btn btn-secondary" style="padding: 0.5rem 1rem; font-size: 0.75rem;" onclick="regenerateAB()">Shuffle</button>
        </div>
        <div class="panel-body">
          <p style="color: var(--text-secondary); font-size: 0.85rem; margin-bottom: 1rem;">Click titles above to select your A/B test variants, or use our recommended pair:</p>
          <div class="ab-test-container" id="abTestContainer">
            <div class="ab-variant variant-a">
              <div class="ab-label">Variant A</div>
              <div class="ab-title" id="variantA">Select a title...</div>
            </div>
            <div class="ab-variant variant-b">
              <div class="ab-label">Variant B</div>
              <div class="ab-title" id="variantB">Select a title...</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- THUMBNAILS SECTION -->
    <section class="section" id="thumbnails">
      <div class="main-grid">
        <div class="panel">
          <div class="panel-header">
            <div class="panel-title">Thumbnail Generator</div>
          </div>
          <div class="panel-body">
            <div class="input-group">
              <label>Headline Text</label>
              <input type="text" id="thumbnailHeadline" placeholder="e.g., BANKS ARE PANICKING" oninput="updateThumbnailPreviews()">
            </div>
            <div class="input-group">
              <label>Subtext (optional)</label>
              <input type="text" id="thumbnailSubtext" placeholder="e.g., Stablecoins are coming" oninput="updateThumbnailPreviews()">
            </div>
            <div class="input-group">
              <label>Guest Image</label>
              <input type="file" id="guestImage" accept="image/*" onchange="handleImageUpload(event)" style="display: none;">
              <button class="btn btn-secondary" onclick="document.getElementById('guestImage').click()">
                Upload Guest Photo
              </button>
              <span id="imageStatus" style="margin-left: 1rem; font-size: 0.8rem; color: var(--text-muted);"></span>
            </div>
            <div class="btn-group" style="margin-top: 1.5rem;">
              <button class="btn" onclick="generateThumbnailConcepts()">
                <span>üé®</span> Generate Concepts
              </button>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="panel-header">
            <div class="panel-title">Thumbnail Concepts</div>
          </div>
          <div class="panel-body">
            <div class="thumbnail-grid" id="thumbnailGrid">
              <div class="thumbnail-concept">
                <div class="thumbnail-preview style-bold">
                  <div class="thumbnail-text-overlay">
                    <div class="thumbnail-headline" id="thumb1">YOUR TEXT HERE</div>
                    <div class="thumbnail-subtext" id="thumb1sub"></div>
                  </div>
                </div>
                <div class="thumbnail-info">
                  <div class="thumbnail-style-name">Bold & Dark</div>
                  <div class="thumbnail-description">High contrast, urgent feel</div>
                </div>
              </div>
              <div class="thumbnail-concept">
                <div class="thumbnail-preview style-gradient">
                  <div class="thumbnail-text-overlay">
                    <div class="thumbnail-headline" id="thumb2">YOUR TEXT HERE</div>
                    <div class="thumbnail-subtext" id="thumb2sub"></div>
                  </div>
                </div>
                <div class="thumbnail-info">
                  <div class="thumbnail-style-name">Tokenized Gradient</div>
                  <div class="thumbnail-description">On-brand, professional</div>
                </div>
              </div>
              <div class="thumbnail-concept">
                <div class="thumbnail-preview style-accent">
                  <div class="thumbnail-text-overlay">
                    <div class="thumbnail-headline" id="thumb3" style="color: var(--accent);">YOUR TEXT HERE</div>
                    <div class="thumbnail-subtext" id="thumb3sub" style="color: white;"></div>
                  </div>
                </div>
                <div class="thumbnail-info">
                  <div class="thumbnail-style-name">Cyan Pop</div>
                  <div class="thumbnail-description">Eye-catching accent color</div>
                </div>
              </div>
              <div class="thumbnail-concept">
                <div class="thumbnail-preview style-dramatic">
                  <div class="thumbnail-text-overlay">
                    <div class="thumbnail-headline" id="thumb4">YOUR TEXT HERE</div>
                    <div class="thumbnail-subtext" id="thumb4sub"></div>
                  </div>
                </div>
                <div class="thumbnail-info">
                  <div class="thumbnail-style-name">Dramatic Spotlight</div>
                  <div class="thumbnail-description">Focus on guest/topic</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- INSIGHTS SECTION -->
    <section class="section" id="insights">
      <div class="panel">
        <div class="panel-header">
          <div class="panel-title">Title Performance Insights</div>
        </div>
        <div class="panel-body">
          <div class="insights-grid">
            <div class="insight-card">
              <div class="insight-value">14K</div>
              <div class="insight-label">Top X Views</div>
            </div>
            <div class="insight-card">
              <div class="insight-value">$300T</div>
              <div class="insight-label">Best Money Hook</div>
            </div>
            <div class="insight-card">
              <div class="insight-value">68%</div>
              <div class="insight-label">Have Guest Names</div>
            </div>
          </div>

          <h3 style="font-size: 0.9rem; margin-bottom: 1rem; color: var(--text-secondary);">Top Performing Title Patterns</h3>
          
          <div class="title-result" style="cursor: default;">
            <div class="title-text">üèÜ Industry Leader + Bold Topic</div>
            <div class="title-meta">
              <span class="title-tag guest">14K views</span>
            </div>
            <p style="font-size: 0.85rem; color: var(--text-muted); margin-top: 0.75rem;">
              "Stablecoin Chains - The Future of Payments? Ft. Chainlink CEO Sergey Nazarov" ‚Äî High-profile guest + forward-looking question drives strong engagement.
            </p>
          </div>

          <div class="title-result" style="cursor: default;">
            <div class="title-text">üí∞ Shocking Money Amount</div>
            <div class="title-meta">
              <span class="title-tag number">5.9K views</span>
            </div>
            <p style="font-size: 0.85rem; color: var(--text-muted); margin-top: 0.75rem;">
              "The $300 Trillion Dollar Whoopsie" ‚Äî Large, specific numbers create curiosity. Works especially well with unexpected framing.
            </p>
          </div>

          <div class="title-result" style="cursor: default;">
            <div class="title-text">üè¶ Bank/Institution + Action</div>
            <div class="title-meta">
              <span class="title-tag hook">3.5K+ views</span>
            </div>
            <p style="font-size: 0.85rem; color: var(--text-muted); margin-top: 0.75rem;">
              "Every Bank Should Tokenize Deposits" / "BlackRock Want to Tokenize Everything" ‚Äî Institutional actors taking bold stances performs consistently well.
            </p>
          </div>

          <div class="title-result" style="cursor: default;">
            <div class="title-text">‚ùì Question + Threat</div>
            <div class="title-meta">
              <span class="title-tag question">2K+ views</span>
            </div>
            <p style="font-size: 0.85rem; color: var(--text-muted); margin-top: 0.75rem;">
              "Should Banks Fear Stripe Stablecoin Accounts?" ‚Äî Questions that imply competitive threat or disruption drive clicks.
            </p>
          </div>

          <div class="title-result" style="cursor: default;">
            <div class="title-text">üìà Specific Number + Trend</div>
            <div class="title-meta">
              <span class="title-tag number">2K+ views</span>
            </div>
            <p style="font-size: 0.85rem; color: var(--text-muted); margin-top: 0.75rem;">
              "13,000 Banks Get Stablecoin Access" / "DTCC Readies $100T of Stocks" ‚Äî Specific numbers (not rounded) feel more credible and newsworthy.
            </p>
          </div>

          <h3 style="font-size: 0.9rem; margin: 2rem 0 1rem; color: var(--text-secondary);">Words That Work</h3>
          <div class="pattern-list">
            <span class="pattern-chip active">Stablecoin</span>
            <span class="pattern-chip active">Banks</span>
            <span class="pattern-chip active">Tokenize</span>
            <span class="pattern-chip active">$Billions</span>
            <span class="pattern-chip active">CEO/President</span>
            <span class="pattern-chip active">Strategy</span>
            <span class="pattern-chip active">Payments</span>
            <span class="pattern-chip active">Launch</span>
            <span class="pattern-chip active">Raise</span>
            <span class="pattern-chip active">Acquire</span>
          </div>
        </div>
      </div>
    </section>
  </div>

  <div class="toast" id="toast">Copied to clipboard!</div>

  <script>
    // State
    let generatedTitles = [];
    let selectedTitles = [];

    // Tab switching
    document.querySelectorAll('.tab').forEach(tab => {
      tab.onclick = () => {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(tab.dataset.section).classList.add('active');
      };
    });

    // Title generation patterns based on Tokenized's top performers
    const titlePatterns = {
      question: [
        "Will {topic} Replace {incumbent}?",
        "Should {audience} Fear {topic}?",
        "Can {company} Beat {competitor}?",
        "Why Does {company} Want {topic}?",
        "Is {topic} the Future of {industry}?",
        "What Does {event} Mean for {audience}?"
      ],
      number: [
        "The ${amount} {topic} Opportunity",
        "{number} {entities} Get {topic} Access",
        "{company} Raise ${amount} for {topic}",
        "{company} Spent ${amount} on {acquisition}",
        "The Road to ${amount} {metric}"
      ],
      company: [
        "{company} Want to {action} Everything",
        "{company} Launches {product}",
        "{company} Goes {direction} on {topic}",
        "Inside {company}'s {topic} Strategy",
        "Why {company} Is Betting Big on {topic}"
      ],
      threat: [
        "{audience} Are Waking Up to the {topic} Threat",
        "{topic} Is More Than PR",
        "The {topic} Wars: Who Wins?",
        "{audience} Have {topic} Whiplash",
        "{incumbent} vs {disruptor} ‚Äî What Do {audience} Want?"
      ],
      future: [
        "{year} Predictions: {topics}",
        "The Future of {topic}",
        "{topic} in {year}: What to Expect",
        "How {topic} Will {transformation}",
        "{topic}: The Next {comparison}"
      ],
      money: [
        "The ${amount} {topic}",
        "{company}'s ${amount} {action}",
        "${amount} of {assets} Ready to Go {direction}",
        "Why {company} Spent ${amount} on {target}"
      ]
    };

    // Extract key information from transcript
    function analyzeTranscript(text) {
      const analysis = {
        companies: [],
        people: [],
        numbers: [],
        topics: [],
        actions: []
      };

      // Common company patterns
      const companyPatterns = /\b(Stripe|Circle|Ripple|PayPal|Visa|Mastercard|JPMorgan|Goldman|BlackRock|Fidelity|Coinbase|Chainlink|Bridge|BVNK|zerohash|Mesh|Robinhood|Meta|Amazon|Apple|Google|DTCC|SWIFT|Klarna|MoneyGram|Fiserv)\b/gi;
      const companies = text.match(companyPatterns);
      if (companies) analysis.companies = [...new Set(companies.map(c => c.charAt(0).toUpperCase() + c.slice(1).toLowerCase()))];

      // Money amounts
      const moneyPatterns = /\$[\d.,]+\s*(billion|million|trillion|bn|m|B|M|T)?|\d+\s*(billion|million|trillion)/gi;
      const money = text.match(moneyPatterns);
      if (money) analysis.numbers = [...new Set(money)];

      // Key topics for Tokenized
      const topicKeywords = ['stablecoin', 'tokenize', 'tokenization', 'deposit', 'payment', 'DeFi', 'blockchain', 'crypto', 'RWA', 'settlement', 'custody', 'lending', 'yield', 'regulation', 'GENIUS', 'MiCA', 'IPO', 'acquisition'];
      topicKeywords.forEach(topic => {
        if (text.toLowerCase().includes(topic.toLowerCase())) {
          analysis.topics.push(topic);
        }
      });

      // Action words
      const actionWords = ['launch', 'acquire', 'raise', 'partner', 'announce', 'integrate', 'expand', 'tokenize', 'disrupt', 'revolutionize'];
      actionWords.forEach(action => {
        if (text.toLowerCase().includes(action)) {
          analysis.actions.push(action);
        }
      });

      return analysis;
    }

    function generateTitles() {
      const transcript = document.getElementById('transcriptInput').value;
      const guest = document.getElementById('guestInput').value;
      const episodeType = document.getElementById('episodeType').value;

      if (!transcript.trim()) {
        showToast('Please enter a transcript or summary');
        return;
      }

      const analysis = analyzeTranscript(transcript);
      generatedTitles = [];

      // Generate titles based on content
      const mainCompany = analysis.companies[0] || 'Banks';
      const mainTopic = analysis.topics[0] || 'Stablecoins';
      const mainNumber = analysis.numbers[0] || '$1 Billion';

      // Pattern 1: Guest-focused (if guest provided)
      if (guest) {
        const guestParts = guest.split(',');
        const guestName = guestParts[0].trim();
        const guestTitle = guestParts[1]?.trim() || '';
        
        generatedTitles.push({
          text: `${mainTopic} & ${analysis.topics[1] || 'Payments'} Ft. ${guest}`,
          tags: ['guest'],
          reasoning: 'Guest name + title format (top performer pattern)'
        });
        
        generatedTitles.push({
          text: `${guestName}: "${mainCompany} Must Embrace ${mainTopic}"`,
          tags: ['guest', 'hook'],
          reasoning: 'Quote format with guest authority'
        });
      }

      // Pattern 2: Company action
      if (analysis.companies.length > 0) {
        generatedTitles.push({
          text: `${mainCompany} Want to ${analysis.actions[0] || 'Tokenize'} Everything`,
          tags: ['company', 'hook'],
          reasoning: 'Company + bold action (BlackRock pattern)'
        });

        generatedTitles.push({
          text: `Why ${mainCompany} Is Going All In on ${mainTopic}`,
          tags: ['company', 'question'],
          reasoning: 'Company motivation hook'
        });
      }

      // Pattern 3: Numbers
      if (analysis.numbers.length > 0) {
        generatedTitles.push({
          text: `The ${mainNumber} ${mainTopic} Opportunity`,
          tags: ['number'],
          reasoning: 'Money amount + opportunity (high performer)'
        });

        generatedTitles.push({
          text: `${mainCompany} Raise ${mainNumber} for ${mainTopic}`,
          tags: ['number', 'company'],
          reasoning: 'Funding announcement format'
        });
      }

      // Pattern 4: Questions
      generatedTitles.push({
        text: `Should Banks Fear ${mainCompany}'s ${mainTopic} Strategy?`,
        tags: ['question', 'threat'],
        reasoning: 'Threat-based question (proven performer)'
      });

      generatedTitles.push({
        text: `Will ${mainTopic} Replace Traditional ${analysis.topics[1] || 'Payments'}?`,
        tags: ['question', 'future'],
        reasoning: 'Disruption question hook'
      });

      // Pattern 5: Bold statements
      generatedTitles.push({
        text: `Every Bank Needs a ${mainTopic} Strategy`,
        tags: ['hook'],
        reasoning: 'Authoritative statement format'
      });

      generatedTitles.push({
        text: `${mainTopic}: The ${analysis.topics[1] || 'Payments'} Revolution Is Here`,
        tags: ['hook', 'future'],
        reasoning: 'Declaration of change'
      });

      // Pattern 6: News format
      if (analysis.actions.length > 0) {
        generatedTitles.push({
          text: `${mainCompany} ${analysis.actions[0].charAt(0).toUpperCase() + analysis.actions[0].slice(1)}s ${mainTopic} ${analysis.topics[1] || 'Platform'}`,
          tags: ['news'],
          reasoning: 'Breaking news format'
        });
      }

      // Pattern 7: Versus/Comparison
      if (analysis.topics.length > 1) {
        generatedTitles.push({
          text: `${analysis.topics[0]} vs ${analysis.topics[1]} ‚Äî What Do Banks Want?`,
          tags: ['question', 'comparison'],
          reasoning: 'Comparison format drives debate clicks'
        });
      }

      // Episode type specific
      if (episodeType === 'predictions') {
        const year = new Date().getFullYear() + 1;
        generatedTitles.push({
          text: `${year} Predictions: ${analysis.topics.slice(0, 3).join(', ') || 'Stablecoins, Tokenization and RWAs'}`,
          tags: ['future'],
          reasoning: 'Year predictions format'
        });
      }

      // Stablecoin Stories series
      if (episodeType === 'stablecoin-stories') {
        generatedTitles.unshift({
          text: `Stablecoin Stories: How ${mainCompany} Became a ${mainTopic} Success`,
          tags: ['series', 'story'],
          reasoning: 'Stablecoin Stories series format'
        });
        generatedTitles.unshift({
          text: `Stablecoin Stories: The Rise of ${mainCompany}`,
          tags: ['series', 'story'],
          reasoning: 'Stablecoin Stories origin story format'
        });
        generatedTitles.unshift({
          text: `Stablecoin Stories: Inside ${mainCompany}'s Journey to ${analysis.actions[0] || 'Success'}`,
          tags: ['series', 'story'],
          reasoning: 'Stablecoin Stories behind-the-scenes format'
        });
        if (guest) {
          generatedTitles.unshift({
            text: `Stablecoin Stories: ${guest.split(',')[0]} on Building ${mainCompany}`,
            tags: ['series', 'story', 'guest'],
            reasoning: 'Stablecoin Stories with guest name'
          });
        }
      }

      // Stablecoin Stats series
      if (episodeType === 'stablecoin-stats') {
        generatedTitles.unshift({
          text: `Stablecoin Stats: ${mainTopic} ${analysis.actions[0] ? analysis.actions[0].charAt(0).toUpperCase() + analysis.actions[0].slice(1) + 's' : 'Surge'} in ${new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}`,
          tags: ['series', 'stats'],
          reasoning: 'Stablecoin Stats monthly format'
        });
        generatedTitles.unshift({
          text: `Stablecoin Stats: The Onchain Data Behind ${mainCompany}'s ${mainTopic}`,
          tags: ['series', 'stats'],
          reasoning: 'Stablecoin Stats data-focused format'
        });
        generatedTitles.unshift({
          text: `Stablecoin Stats: ${mainTopic} Dominance ‚Äî Will It Last?`,
          tags: ['series', 'stats', 'question'],
          reasoning: 'Stablecoin Stats question hook format'
        });
        if (analysis.numbers.length > 0) {
          generatedTitles.unshift({
            text: `Stablecoin Stats: ${mainCompany} Adds ${mainNumber} in Supply`,
            tags: ['series', 'stats', 'number'],
            reasoning: 'Stablecoin Stats with specific number'
          });
        }
      }

      // Agentic Commerce series
      if (episodeType === 'agentic-commerce') {
        generatedTitles.unshift({
          text: `Agentic Commerce: How ${mainTopic} Will Power AI Payments`,
          tags: ['series', 'future'],
          reasoning: 'Agentic Commerce AI payments angle'
        });
        generatedTitles.unshift({
          text: `Agentic Commerce: The ${mainTopic} Protocol`,
          tags: ['series', 'tech'],
          reasoning: 'Agentic Commerce protocol format'
        });
        generatedTitles.unshift({
          text: `Agentic Commerce: ${mainCompany} Builds for AI Agents`,
          tags: ['series', 'company'],
          reasoning: 'Agentic Commerce company focus'
        });
        if (guest) {
          generatedTitles.unshift({
            text: `Agentic Commerce: ${mainTopic} With ${mainCompany} Ft. ${guest.split(',')[0]}`,
            tags: ['series', 'guest'],
            reasoning: 'Agentic Commerce with guest'
          });
        }
        generatedTitles.unshift({
          text: `Agentic Commerce: When AI Agents Need to Pay`,
          tags: ['series', 'hook'],
          reasoning: 'Agentic Commerce concept hook'
        });
      }

      renderTitles();
      setDefaultABTest();
    }

    function renderTitles() {
      const container = document.getElementById('titlesOutput');
      document.getElementById('resultCount').textContent = `${generatedTitles.length} titles`;

      container.innerHTML = generatedTitles.map((title, i) => `
        <div class="title-result" onclick="selectTitle(${i})" data-index="${i}">
          <div class="title-text">${title.text}</div>
          <div class="title-meta">
            ${title.tags.map(tag => `<span class="title-tag ${tag}">${tag}</span>`).join('')}
          </div>
          <div class="title-actions">
            <button class="title-action-btn" onclick="event.stopPropagation(); copyTitle('${title.text.replace(/'/g, "\\'")}')">üìã</button>
            <button class="title-action-btn" onclick="event.stopPropagation(); selectForAB(${i}, 'a')">A</button>
            <button class="title-action-btn" onclick="event.stopPropagation(); selectForAB(${i}, 'b')">B</button>
          </div>
        </div>
      `).join('');
    }

    function selectTitle(index) {
      const el = document.querySelector(`.title-result[data-index="${index}"]`);
      el.classList.toggle('selected');
      
      if (selectedTitles.includes(index)) {
        selectedTitles = selectedTitles.filter(i => i !== index);
      } else {
        selectedTitles.push(index);
        if (selectedTitles.length > 2) selectedTitles.shift();
      }

      if (selectedTitles.length === 2) {
        document.getElementById('variantA').textContent = generatedTitles[selectedTitles[0]].text;
        document.getElementById('variantB').textContent = generatedTitles[selectedTitles[1]].text;
      }
    }

    function selectForAB(index, variant) {
      const target = variant === 'a' ? 'variantA' : 'variantB';
      document.getElementById(target).textContent = generatedTitles[index].text;
    }

    function setDefaultABTest() {
      if (generatedTitles.length >= 2) {
        // Pick two with different tag types for good A/B contrast
        const hookTitle = generatedTitles.find(t => t.tags.includes('hook'));
        const questionTitle = generatedTitles.find(t => t.tags.includes('question'));
        
        document.getElementById('variantA').textContent = (hookTitle || generatedTitles[0]).text;
        document.getElementById('variantB').textContent = (questionTitle || generatedTitles[1]).text;
      }
    }

    function regenerateAB() {
      if (generatedTitles.length >= 2) {
        const shuffled = [...generatedTitles].sort(() => Math.random() - 0.5);
        document.getElementById('variantA').textContent = shuffled[0].text;
        document.getElementById('variantB').textContent = shuffled[1].text;
      }
    }

    function copyTitle(text) {
      navigator.clipboard.writeText(text);
      showToast('Copied to clipboard!');
    }

    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2000);
    }

    function clearInputs() {
      document.getElementById('transcriptInput').value = '';
      document.getElementById('guestInput').value = '';
      document.getElementById('titlesOutput').innerHTML = `
        <div class="results-empty">
          <div class="results-empty-icon">üìù</div>
          <p>Paste a transcript and click Generate to create optimized titles</p>
        </div>
      `;
      document.getElementById('resultCount').textContent = '';
      generatedTitles = [];
      selectedTitles = [];
    }

    function applyPattern(pattern) {
      const chips = document.querySelectorAll('.pattern-chip');
      chips.forEach(c => c.classList.remove('active'));
      event.target.classList.add('active');

      // Add hint to transcript based on pattern
      const hints = {
        question: 'Focus on generating question-based titles that create curiosity...',
        number: 'Look for specific numbers, funding amounts, or statistics to highlight...',
        company: 'Emphasize the major company or institution involved...',
        threat: 'Frame as competitive threat or industry disruption...',
        future: 'Position as forward-looking prediction or trend...',
        money: 'Lead with the dollar amount or financial impact...'
      };

      showToast(`Pattern: ${hints[pattern]}`);
    }

    // Thumbnail functions
    function updateThumbnailPreviews() {
      const headline = document.getElementById('thumbnailHeadline').value || 'YOUR TEXT HERE';
      const subtext = document.getElementById('thumbnailSubtext').value || '';

      ['thumb1', 'thumb2', 'thumb3', 'thumb4'].forEach((id, i) => {
        document.getElementById(id).textContent = headline.toUpperCase();
        document.getElementById(id + 'sub').textContent = subtext;
      });
    }

    function handleImageUpload(event) {
      const file = event.target.files[0];
      if (file) {
        document.getElementById('imageStatus').textContent = `‚úì ${file.name}`;
      }
    }

    function handleTranscriptUpload(event) {
      const file = event.target.files[0];
      if (!file) return;

      const statusEl = document.getElementById('transcriptFileStatus');
      statusEl.textContent = `Loading ${file.name}...`;

      const reader = new FileReader();
      
      reader.onload = function(e) {
        let text = e.target.result;
        
        // Handle SRT/VTT subtitle formats - strip timestamps
        if (file.name.endsWith('.srt') || file.name.endsWith('.vtt')) {
          text = text
            .replace(/^\d+\s*$/gm, '') // Remove line numbers
            .replace(/\d{2}:\d{2}:\d{2}[.,]\d{3}\s*-->\s*\d{2}:\d{2}:\d{2}[.,]\d{3}/g, '') // Remove timestamps
            .replace(/WEBVTT.*$/m, '') // Remove VTT header
            .replace(/<[^>]+>/g, '') // Remove HTML tags
            .replace(/\n{3,}/g, '\n\n') // Clean up extra newlines
            .trim();
        }
        
        document.getElementById('transcriptInput').value = text;
        statusEl.textContent = `‚úì ${file.name} loaded`;
        statusEl.style.color = 'var(--success)';
      };

      reader.onerror = function() {
        statusEl.textContent = `Error loading file`;
        statusEl.style.color = 'var(--red)';
      };

      // Read as text for txt, srt, vtt files
      if (file.name.match(/\.(txt|srt|vtt)$/i)) {
        reader.readAsText(file);
      } 
      // For doc/docx/pdf, we'll read as text but warn about limitations
      else if (file.name.match(/\.(doc|docx|pdf)$/i)) {
        statusEl.textContent = `‚ö†Ô∏è For best results, use .txt or .srt files. Trying to read...`;
        statusEl.style.color = 'var(--warning)';
        reader.readAsText(file);
      }
      else {
        reader.readAsText(file);
      }
    }

    function generateThumbnailConcepts() {
      const headline = document.getElementById('thumbnailHeadline').value;
      if (!headline) {
        showToast('Please enter headline text first');
        return;
      }
      updateThumbnailPreviews();
      showToast('Thumbnail concepts updated!');
    }
  </script>
</body>
</html>
